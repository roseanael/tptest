{"filter":false,"title":"library.js","tooltip":"/js/library.js","undoManager":{"mark":48,"position":48,"stack":[[{"start":{"row":0,"column":0},"end":{"row":35,"column":5},"action":"insert","lines":["// Select all links with hashes","$('a[href*=\"#\"]')","  // Remove links that don't actually link to anything","  .not('[href=\"#\"]')","  .not('[href=\"#0\"]')","  .click(function(event) {","    // On-page links","    if (","      location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') ","      && ","      location.hostname == this.hostname","    ) {","      // Figure out element to scroll to","      var target = $(this.hash);","      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');","      // Does a scroll target exist?","      if (target.length) {","        // Only prevent default if animation is actually gonna happen","        event.preventDefault();","        $('html, body').animate({","          scrollTop: target.offset().top","        }, 1000, function() {","          // Callback after animation","          // Must change focus!","          var $target = $(target);","          $target.focus();","          if ($target.is(\":focus\")) { // Checking if the target was focused","            return false;","          } else {","            $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable","            $target.focus(); // Set focus again","          };","        });","      }","    }","  });"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["/"],"id":3}],[{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["/"],"id":4}],[{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":[" "],"id":5}],[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":["S"],"id":6}],[{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["M"],"id":7}],[{"start":{"row":0,"column":5},"end":{"row":0,"column":6},"action":"insert","lines":["O"],"id":8}],[{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"insert","lines":["O"],"id":9}],[{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"insert","lines":["T"],"id":10}],[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"insert","lines":["H"],"id":11}],[{"start":{"row":0,"column":9},"end":{"row":0,"column":10},"action":"insert","lines":[" "],"id":12}],[{"start":{"row":0,"column":10},"end":{"row":0,"column":11},"action":"insert","lines":["S"],"id":13}],[{"start":{"row":0,"column":11},"end":{"row":0,"column":12},"action":"insert","lines":["C"],"id":14}],[{"start":{"row":0,"column":12},"end":{"row":0,"column":13},"action":"insert","lines":["R"],"id":15}],[{"start":{"row":0,"column":13},"end":{"row":0,"column":14},"action":"insert","lines":["O"],"id":16}],[{"start":{"row":0,"column":14},"end":{"row":0,"column":15},"action":"insert","lines":["L"],"id":17}],[{"start":{"row":0,"column":15},"end":{"row":0,"column":16},"action":"insert","lines":["L"],"id":18}],[{"start":{"row":0,"column":16},"end":{"row":0,"column":17},"action":"insert","lines":["I"],"id":19}],[{"start":{"row":0,"column":17},"end":{"row":0,"column":18},"action":"insert","lines":["N"],"id":20}],[{"start":{"row":0,"column":18},"end":{"row":0,"column":19},"action":"insert","lines":["G"],"id":21}],[{"start":{"row":0,"column":19},"end":{"row":36,"column":5},"action":"remove","lines":["","// Select all links with hashes","$('a[href*=\"#\"]')","  // Remove links that don't actually link to anything","  .not('[href=\"#\"]')","  .not('[href=\"#0\"]')","  .click(function(event) {","    // On-page links","    if (","      location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') ","      && ","      location.hostname == this.hostname","    ) {","      // Figure out element to scroll to","      var target = $(this.hash);","      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');","      // Does a scroll target exist?","      if (target.length) {","        // Only prevent default if animation is actually gonna happen","        event.preventDefault();","        $('html, body').animate({","          scrollTop: target.offset().top","        }, 1000, function() {","          // Callback after animation","          // Must change focus!","          var $target = $(target);","          $target.focus();","          if ($target.is(\":focus\")) { // Checking if the target was focused","            return false;","          } else {","            $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable","            $target.focus(); // Set focus again","          };","        });","      }","    }","  });"],"id":24},{"start":{"row":0,"column":19},"end":{"row":1,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":1,"column":0},"end":{"row":133,"column":1},"action":"insert","lines":["initSmoothScrolling();","","function initSmoothScrolling() {","  if (isCssSmoothSCrollSupported()) {","    document.getElementById('css-support-msg').className = 'supported';","    return;","  }","","  var duration = 400;","","  var pageUrl = location.hash ?","    stripHash(location.href) :","    location.href;","","  delegatedLinkHijacking();","  //directLinkHijacking();","","  function delegatedLinkHijacking() {","    document.body.addEventListener('click', onClick, false);","","    function onClick(e) {","      if (!isInPageLink(e.target))","        return;","","      e.stopPropagation();","      e.preventDefault();","","      jump(e.target.hash, {","        duration: duration,","        callback: function() {","          setFocus(e.target.hash);","        }","      });","    }","  }","","  function directLinkHijacking() {","    [].slice.call(document.querySelectorAll('a'))","      .filter(isInPageLink)","      .forEach(function(a) {","        a.addEventListener('click', onClick, false);","      });","","    function onClick(e) {","      e.stopPropagation();","      e.preventDefault();","","      jump(e.target.hash, {","        duration: duration,","      });","    }","","  }","","  function isInPageLink(n) {","    return n.tagName.toLowerCase() === 'a' &&","      n.hash.length > 0 &&","      stripHash(n.href) === pageUrl;","  }","","  function stripHash(url) {","    return url.slice(0, url.lastIndexOf('#'));","  }","","  function isCssSmoothSCrollSupported() {","    return 'scrollBehavior' in document.documentElement.style;","  }","","  // Adapted from:","  // https://www.nczonline.net/blog/2013/01/15/fixing-skip-to-content-links/","  function setFocus(hash) {","    var element = document.getElementById(hash.substring(1));","","    if (element) {","      if (!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)) {","        element.tabIndex = -1;","      }","","      element.focus();","    }","  }","","}","","function jump(target, options) {","  var","    start = window.pageYOffset,","    opt = {","      duration: options.duration,","      offset: options.offset || 0,","      callback: options.callback,","      easing: options.easing || easeInOutQuad","    },","    distance = typeof target === 'string' ?","    opt.offset + document.querySelector(target).getBoundingClientRect().top :","    target,","    duration = typeof opt.duration === 'function' ?","    opt.duration(distance) :","    opt.duration,","    timeStart, timeElapsed;","","  requestAnimationFrame(function(time) {","    timeStart = time;","    loop(time);","  });","","  function loop(time) {","    timeElapsed = time - timeStart;","","    window.scrollTo(0, opt.easing(timeElapsed, start, distance, duration));","","    if (timeElapsed < duration)","      requestAnimationFrame(loop)","    else","      end();","  }","","  function end() {","    window.scrollTo(0, start + distance);","","    if (typeof opt.callback === 'function')","      opt.callback();","  }","","  // Robert Penner's easeInOutQuad - http://robertpenner.com/easing/","  function easeInOutQuad(t, b, c, d) {","    t /= d / 2","    if (t < 1) return c / 2 * t * t + b","    t--","    return -c / 2 * (t * (t - 2) - 1) + b","  }","","}"],"id":25}],[{"start":{"row":1,"column":0},"end":{"row":133,"column":1},"action":"remove","lines":["initSmoothScrolling();","","function initSmoothScrolling() {","  if (isCssSmoothSCrollSupported()) {","    document.getElementById('css-support-msg').className = 'supported';","    return;","  }","","  var duration = 400;","","  var pageUrl = location.hash ?","    stripHash(location.href) :","    location.href;","","  delegatedLinkHijacking();","  //directLinkHijacking();","","  function delegatedLinkHijacking() {","    document.body.addEventListener('click', onClick, false);","","    function onClick(e) {","      if (!isInPageLink(e.target))","        return;","","      e.stopPropagation();","      e.preventDefault();","","      jump(e.target.hash, {","        duration: duration,","        callback: function() {","          setFocus(e.target.hash);","        }","      });","    }","  }","","  function directLinkHijacking() {","    [].slice.call(document.querySelectorAll('a'))","      .filter(isInPageLink)","      .forEach(function(a) {","        a.addEventListener('click', onClick, false);","      });","","    function onClick(e) {","      e.stopPropagation();","      e.preventDefault();","","      jump(e.target.hash, {","        duration: duration,","      });","    }","","  }","","  function isInPageLink(n) {","    return n.tagName.toLowerCase() === 'a' &&","      n.hash.length > 0 &&","      stripHash(n.href) === pageUrl;","  }","","  function stripHash(url) {","    return url.slice(0, url.lastIndexOf('#'));","  }","","  function isCssSmoothSCrollSupported() {","    return 'scrollBehavior' in document.documentElement.style;","  }","","  // Adapted from:","  // https://www.nczonline.net/blog/2013/01/15/fixing-skip-to-content-links/","  function setFocus(hash) {","    var element = document.getElementById(hash.substring(1));","","    if (element) {","      if (!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)) {","        element.tabIndex = -1;","      }","","      element.focus();","    }","  }","","}","","function jump(target, options) {","  var","    start = window.pageYOffset,","    opt = {","      duration: options.duration,","      offset: options.offset || 0,","      callback: options.callback,","      easing: options.easing || easeInOutQuad","    },","    distance = typeof target === 'string' ?","    opt.offset + document.querySelector(target).getBoundingClientRect().top :","    target,","    duration = typeof opt.duration === 'function' ?","    opt.duration(distance) :","    opt.duration,","    timeStart, timeElapsed;","","  requestAnimationFrame(function(time) {","    timeStart = time;","    loop(time);","  });","","  function loop(time) {","    timeElapsed = time - timeStart;","","    window.scrollTo(0, opt.easing(timeElapsed, start, distance, duration));","","    if (timeElapsed < duration)","      requestAnimationFrame(loop)","    else","      end();","  }","","  function end() {","    window.scrollTo(0, start + distance);","","    if (typeof opt.callback === 'function')","      opt.callback();","  }","","  // Robert Penner's easeInOutQuad - http://robertpenner.com/easing/","  function easeInOutQuad(t, b, c, d) {","    t /= d / 2","    if (t < 1) return c / 2 * t * t + b","    t--","    return -c / 2 * (t * (t - 2) - 1) + b","  }","","}"],"id":26}],[{"start":{"row":1,"column":0},"end":{"row":20,"column":7},"action":"insert","lines":["","    document.addEventListener('DOMContentLoaded', function(){","      const easeFunctions = {","        easeInQuad: function (t, b, c, d) {","          t /= d;","          return c * t * t + b;","        },","        easeOutQuad: function (t, b, c, d) {","          t /= d;","          return -c * t* (t - 2) + b;","        }","      }","      const moveTo = new MoveTo({","        ease: 'easeInQuad'","      }, easeFunctions);","      const triggers = document.getElementsByClassName('js-trigger');","      for (var i = 0; i < triggers.length; i++) {","        moveTo.registerTrigger(triggers[i]);","      }","    });"],"id":27}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""],"id":28}],[{"start":{"row":1,"column":0},"end":{"row":9,"column":22},"action":"insert","lines":["function include(file) {","    var oScript =  document.createElement(\"script\");","    oScript.src = file;","    oScript.type = \"text/javascript\";","    document.body.appendChild(oScript);","}"," ","// On l'utilise :","include(\"fichier.js\");"],"id":29}],[{"start":{"row":4,"column":20},"end":{"row":4,"column":35},"action":"remove","lines":["text/javascript"],"id":30},{"start":{"row":4,"column":20},"end":{"row":4,"column":48},"action":"insert","lines":["/moveTo-master/src/moveTo.js"]}],[{"start":{"row":9,"column":9},"end":{"row":9,"column":16},"action":"remove","lines":["fichier"],"id":31},{"start":{"row":9,"column":9},"end":{"row":9,"column":10},"action":"insert","lines":["o"]}],[{"start":{"row":9,"column":10},"end":{"row":9,"column":11},"action":"insert","lines":["v"],"id":32}],[{"start":{"row":9,"column":11},"end":{"row":9,"column":12},"action":"insert","lines":["e"],"id":33}],[{"start":{"row":9,"column":11},"end":{"row":9,"column":12},"action":"remove","lines":["e"],"id":34}],[{"start":{"row":9,"column":10},"end":{"row":9,"column":11},"action":"remove","lines":["v"],"id":35}],[{"start":{"row":9,"column":9},"end":{"row":9,"column":10},"action":"remove","lines":["o"],"id":36}],[{"start":{"row":9,"column":9},"end":{"row":9,"column":10},"action":"insert","lines":["m"],"id":37}],[{"start":{"row":9,"column":10},"end":{"row":9,"column":11},"action":"insert","lines":["o"],"id":38}],[{"start":{"row":9,"column":11},"end":{"row":9,"column":12},"action":"insert","lines":["v"],"id":39}],[{"start":{"row":9,"column":12},"end":{"row":9,"column":13},"action":"insert","lines":["e"],"id":40}],[{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"insert","lines":["T"],"id":41}],[{"start":{"row":9,"column":14},"end":{"row":9,"column":15},"action":"insert","lines":["o"],"id":42}],[{"start":{"row":1,"column":0},"end":{"row":9,"column":21},"action":"remove","lines":["function include(file) {","    var oScript =  document.createElement(\"script\");","    oScript.src = file;","    oScript.type = \"/moveTo-master/src/moveTo.js\";","    document.body.appendChild(oScript);","}"," ","// On l'utilise :","include(\"moveTo.js\");"],"id":43},{"start":{"row":1,"column":0},"end":{"row":3,"column":1},"action":"insert","lines":["function include(fileName){","  document.write(\"<script type='text/javascript' src='\"+fileName+\"'></script>\" );","}"]}],[{"start":{"row":2,"column":55},"end":{"row":2,"column":65},"action":"remove","lines":["+fileName+"],"id":45}],[{"start":{"row":2,"column":55},"end":{"row":2,"column":56},"action":"remove","lines":["\""],"id":46}],[{"start":{"row":2,"column":54},"end":{"row":2,"column":55},"action":"remove","lines":["\""],"id":47}],[{"start":{"row":2,"column":54},"end":{"row":2,"column":82},"action":"insert","lines":["/moveTo-master/src/moveTo.js"],"id":48}],[{"start":{"row":1,"column":0},"end":{"row":4,"column":0},"action":"remove","lines":["function include(fileName){","  document.write(\"<script type='text/javascript' src='/moveTo-master/src/moveTo.js'></script>\" );","}",""],"id":49}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["",""],"id":50}],[{"start":{"row":1,"column":0},"end":{"row":19,"column":7},"action":"remove","lines":["    document.addEventListener('DOMContentLoaded', function(){","      const easeFunctions = {","        easeInQuad: function (t, b, c, d) {","          t /= d;","          return c * t * t + b;","        },","        easeOutQuad: function (t, b, c, d) {","          t /= d;","          return -c * t* (t - 2) + b;","        }","      }","      const moveTo = new MoveTo({","        ease: 'easeInQuad'","      }, easeFunctions);","      const triggers = document.getElementsByClassName('js-trigger');","      for (var i = 0; i < triggers.length; i++) {","        moveTo.registerTrigger(triggers[i]);","      }","    });"],"id":51}],[{"start":{"row":1,"column":0},"end":{"row":25,"column":3},"action":"insert","lines":["","$(document).ready(function(){","  // Add smooth scrolling to all links","  $(\"a\").on('click', function(event) {","","    // Make sure this.hash has a value before overriding default behavior","    if (this.hash !== \"\") {","      // Prevent default anchor click behavior","      event.preventDefault();","","      // Store hash","      var hash = this.hash;","","      // Using jQuery's animate() method to add smooth page scroll","      // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area","      $('html, body').animate({","        scrollTop: $(hash).offset().top","      }, 800, function(){","   ","        // Add hash (#) to URL when done scrolling (default click behavior)","        window.location.hash = hash;","      });","    } // End if","  });","});"],"id":52}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":25,"column":3},"end":{"row":25,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":true,"wrapToView":true},"firstLineState":0},"timestamp":1495190061700,"hash":"65b39b8500e82724dc9ef2089b7cbfecc74f5fd8"}